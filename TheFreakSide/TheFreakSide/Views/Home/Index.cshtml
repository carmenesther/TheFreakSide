@model IEnumerable<TheFreakSide.Models.Product>

@{
    ViewData["Title"] = "Inicio";
}

<div class="text-center">

    <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="3"></li>
        </ol>
        <div class="carousel-inner" role="listbox">
            <!-- Slide One - Set the background image for this slide in the line below -->
            <div class="carousel-item active" style="background-image: url('https://www.lavanguardia.com/files/image_948_465/uploads/2020/11/25/5fc64471ef0b8.jpeg') ">
                <div class="carousel-caption d-none d-md-block bg-primary">
                    <h3>Tu rincón de merchandising siempre abierto</h3>
                </div>
            </div>
            <!-- Slide Two - Set the background image for this slide in the line below -->
            <div class="carousel-item" style="background-image: url('https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/2a624b9d-73b3-4438-ab94-b4118b7c0708/dazxmlc-8891c780-adae-45c0-ac3c-503434b3ca2a.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTpmaWxlLmRvd25sb2FkIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yYTYyNGI5ZC03M2IzLTQ0MzgtYWI5NC1iNDExOGI3YzA3MDgvZGF6eG1sYy04ODkxYzc4MC1hZGFlLTQ1YzAtYWMzYy01MDM0MzRiM2NhMmEuanBnIn1dXX0.UReTv0-jRVADSCxHdOGI2o95vEHVWyAkaPRrVWmbyfg#tl-1071183833249873923;')">
                <div class="carousel-caption d-none d-md-block bg-primary">
                    <h3>Encuentra tu Funko Pop</h3>
                </div>
            </div>
            <!-- Slide Three - Set the background image for this slide in the line below -->
            <div class="carousel-item" style="background-image: url('https://static.elcorreo.com/www/multimedia/201806/27/media/cortadas/videojuegos-fisicos-ksZC-U60171695594qJD-624x385@El%20Correo.jpg')">
                <div class="carousel-caption d-none d-md-block bg-primary">
                    <h3>Encuentra tus juegos favoritos</h3>
                </div>
            </div>
            <!-- Slide Four - Set the background image for this slide in the line below -->
            <div class="carousel-item" style="background-image: url('https://as01.epimg.net/showroom/imagenes/2018/03/09/portada/1520605486_492111_1520626216_noticia_normal_recorte1.jpg')">
                <div class="carousel-caption d-none d-md-block bg-primary">
                    <h3>Encuentra tus libros y cómics favoritos</h3>
                </div>
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div class="alert alert-primary mt-4" role="alert">
        <h3>Productos más vendidos</h3>
    </div>

    <div class="row mt-2">
        @foreach (var product in Model)
        {
            <div class="col-lg-3 mb-4">
                <div class="card h-100 text-center border-primary">
                    <img class="card-img-top p-2" src="@product.ImageURL" alt="">
                    @if (product.StockQuantity <= 10 && product.StockQuantity > 0)
                    {
                        <p class="text-danger">Últimas unidades</p>
                    }
                    <hr class="border-primary" />
                    <div class="card-body p-0">
                        <h4 class="card-title">
                            <span>@product.Name</span>
                        </h4>
                        <hr class="border-primary" />
                        <div class="text-truncate p-3">
                            <span class="card-text" style="max-width: 250px;">@product.Description</span>
                        </div>
                        <h5>@product.Price €</h5>
                    </div>
                    <div class="card-footer bg-primary">
                        @Html.ActionLink("Visualizar", "Product", "Products", new { id = product.Id }, new { @class = "btn custom-button" })
                        @if (product.StockQuantity != 0)
                        {
                            @Html.ActionLink("Comprar", "Index", "Orders", new { id = product.Id }, new { @class = "btn btn-success" })
                        }

                        @if (product.StockQuantity == 0)
                        {
                            <button class="btn btn-danger" disabled>Agotado</button>
                        }
                    </div>
                </div>
            </div>
        }

        <!-- /.row -->
    </div>
</div>
